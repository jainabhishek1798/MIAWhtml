<!DOCTYPE html>
<html>
<head>
   
    <script type="module">
       /* import { CometD } from "https://cdn.jsdelivr.net/npm/cometd@8.0.8/cometd.js";

        let cometd;

        function initCometD() {
            cometd = new CometD();

            // Example configuration (replace with your server URL)
            cometd.configure({
                url: 'http://your-server:port/cometd'  // e.g., http://localhost:8080/cometd
            });

            cometd.handshake(reply => {
                if (reply.successful) {
                    console.log('CometD handshake successful');
                    // Now subscribe, publish, etc.
                } else {
                    console.error('CometD handshake failed');
                }
            });
        }

        // Call it when ready
        initCometD();*/
    </script>
</head>
<body>

   <script type="module">
      import { CometD } from "https://cdn.jsdelivr.net/npm/cometd@8.0.8/cometd.js";
    // 1Ô∏è‚É£ Declare globally
    let cometd;

    function initCometD() {
        // 2Ô∏è‚É£ Create instance
        //cometd = new org.CometD.CometD();
        cometd = new CometD();
        //cometd = new CometD.CometD();

        cometd.configure({
            url: 'https://nylic--devrelease.sandbox.my.salesforce.com/cometd/65.0/',
            requestHeaders: {
                Authorization: 'Bearer 6Cel800DWJ000006MeWP888WJ0000005bAbsmL574xFNoZf06YdQoPOLQV5CaLa0isnVbzfcSDHYRZtklPcFJ3Uc8HtvEfbKKUytS4fITX2'
            },
            appendMessageTypeToURL: false
        });

        // 3Ô∏è‚É£ Handshake
        cometd.handshake(function (reply) {
            if (reply.successful) {
                console.log('‚úÖ Handshake successful');
                subscribeToEvent();
            } else {
                console.error('‚ùå Handshake failed', reply);
            }
        });
    }

    function subscribeToEvent() {
        // 4Ô∏è‚É£ Use cometd AFTER handshake
        cometd.subscribe('/event/Your_Event__e', function (message) {
            console.log('üì© Event received:', message.data.payload);
        });
    }

    // 5Ô∏è‚É£ Start everything
    initCometD();
</script>
    <h1>Hello, GitHub11!</h1>
    <p>This is my first HTML page.</p>
</body>
</html>
